2023-07-20 09:49:45,278 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/soumya/custodian/lib/python3.8/site-packages/c7n/policy.py", line 330, in run
    resources = self.policy.resource_manager.resources()
  File "/home/soumya/custodian/lib/python3.8/site-packages/c7n/query.py", line 549, in resources
    resources = self.filter_resources(resources)
  File "/home/soumya/custodian/lib/python3.8/site-packages/c7n/manager.py", line 112, in filter_resources
    resources = f.process(resources, event)
  File "/home/soumya/custodian/lib/python3.8/site-packages/c7n/resources/iam.py", line 2022, in process
    list(w.map(self.user_policies, user_set))
  File "/usr/lib/python3.8/concurrent/futures/_base.py", line 619, in result_iterator
    yield fs.pop().result()
  File "/usr/lib/python3.8/concurrent/futures/_base.py", line 444, in result
    return self.__get_result()
  File "/usr/lib/python3.8/concurrent/futures/_base.py", line 389, in __get_result
    raise self._exception
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/soumya/custodian/lib/python3.8/site-packages/c7n/resources/iam.py", line 2013, in user_policies
    client.get_policy(PolicyArn=ap['PolicyArn'])['Policy'])
  File "/home/soumya/custodian/lib/python3.8/site-packages/botocore/client.py", line 534, in _api_call
    return self._make_api_call(operation_name, kwargs)
  File "/home/soumya/custodian/lib/python3.8/site-packages/botocore/client.py", line 976, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.exceptions.ClientError: An error occurred (AccessDenied) when calling the GetPolicy operation: User: arn:aws:iam::200024982256:user/ebslistsnap is not authorized to perform: iam:GetPolicy on resource: policy arn:aws:iam::aws:policy/AdministratorAccess-Amplify because no identity-based policy allows the iam:GetPolicy action
